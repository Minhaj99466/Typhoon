<%- include('../distributorLayout/header.ejs') %>
<%- include('../distributorLayout/sidebar.ejs') %>
<%- include('../distributorLayout/navbar.ejs') %>

<div class="main-panel">
  <div class="content-wrapper">
    <div class="row">
      <div class="col-lg-12 grid-margin stretch-card">
        <div class="card">
          <div class="card-body">
            <h4 class="card-title">ORDERS</h4>
            <div class="table-responsive">
              <table class="table table">
                <thead>
                  <tr>
                    <th>No</th>
                    <th>User</th>
                    <th>Order ID</th>
                    <th>productName</th>
                    <th>Payment Method</th>
                    <th>Total Amount</th>
                    <th>Date</th>
                  </tr>
                </thead>
                <tbody>
                  <% if(orderData.length > 0){ %>
                    <% orderData.forEach((order, i) => { %>
                      <tr>
                        <td><%= i + 1 %></td>
                        <td><%= order.details.deliveryAddress.name %></td>
                        <td><%= order.details._id %></td>
                        <td><%= order.productName %></td>
                        <td><%= order.details.paymentMethod %></td>
                        <td><%= order.details.totalAmount %></td>
                        <td><%= new Date(order.details.date).toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: '2-digit' }).replace(/\//g, '-') %></td>
                      </tr>
                    <% }) %>
                  <% } else { %>
                    <tr>
                      <td colspan="7" class="text-center">You Have No Orders</td>
                    </tr>
                  <% } %>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<%- include('../distributorLayout/footer.ejs') %>
